{"version":3,"sources":["interfaces/user.js","interfaces/ariticle.js","components/ArticleBlock/ArticleBlock.jsx","local/articleUtil.js","views/Blogs/Blogs.jsx","views/TimeLine/TimeLine.jsx","interfaces/tags.js","local/tagUtils.js","views/Tags/Tags.jsx","interfaces/logs.js","local/logUtil.js","views/Logs/Logs.jsx","components/Article/Article.jsx","components/Bar/Bar.jsx","components/Editor/Editor.jsx","components/CodemirrorEditor/index.jsx","components/EditorC/index.jsx","views/Content/Content.jsx","views/Sidebar/Sidebar.jsx","views/Layout/Layout.jsx","App.js","index.js"],"names":["_callee","qqNum","regenerator_default","a","wrap","_context","prev","next","abrupt","Axios","get","stop","getCSRF","_getCSRF","apply","this","arguments","_callee2","_context2","then","res","status","cookie","document","_wrapRegExp","csrftoken","exec","groups","message","warn","catch","err","console","log","markCode","code","marked","articleObj","CSRFTOKEN","form","FormData","append","title","author","content","tagId","post","listArticles","_x2","_listArticles","pageNum","setOptions","renderer","Renderer","gfm","tables","breaks","pedantic","sanitize","smartLists","smartypants","highlight","hljs","highlightAuto","value","componentName","tag","props","tags","react_default","createElement","className","dateTime","Date","createdAt","toDateString","react_router_dom","to","dangerouslySetInnerHTML","__html","substring","es_tag","color","name","Component","articleTool","id","targetId","articles","window","sessionStorage","getItem","JSON","parse","forEach","item","index","articleArr","setItem","stringify","splice","article","targetIndex","unshift","_UNMOUNTED","state","data","getArticle","Article","getList","_this","setState","save","result","style","height","overflowY","map","ArticleBlock_componentName","Object","assign","key","randomColor","Math","floor","random","length","_this2","_this3","date","split","timeline","mode","thisDate","Item","dot","icon","type","fontSize","tagObj","field","createdBy","listTags","_listTags","_callee3","_context3","tagTool","tagArr","inputVisible","inputValue","showInput","input","focus","handleInputChange","e","target","handleInputBlur","handleInputConfirm","tagName","wizard_blog","user","newItem","getColor","_x","_newTag","newTag","Error","concat","toConsumableArray","TagUtil","create","error","saveInputRef","table","i","delTag","_delTag","delete","_this$state","marginBottom","margin","closable","onClose","bind","ref","size","width","onChange","onBlur","onPressEnter","onClick","background","borderStyle","datestring","params","paramsSerializer","qs","arrayFormat","logTool","logArr","logs","history","dateString","_getLogs","getLogs","Log","_listLog","listLog","dir","RangePicker","DatePicker","thisIp","Logs_wrapRegExp","ip","timestamp","computerName","os","method","path","logItem","divider","articleId","parseInt","match","href","showBar","barHeight","nextProps","nextStates","box","text","scrollHeight","viewPortHeight","getComputedStyle","onmousewheel","top","_bar","bar","maxTop","preventDefault","newBarTop","deltaY","scrollTop","onmousedown","startY","clientY","barTop","onmouseup","onmousemove","viewPortWidth","body","clientX","endPos","textTop","_slide","test","textChange","otextarea","_editor_textarea","require","xhtml","_editor_box","onclick","_wizard","disableMenu","es_button","_out","_text","Bar_componentName","_preview","_preview_con","normalizeLineEndings","str","replace","CodemirrorHandler","ReactCodeMirror","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","isFocused","componentWillReceiveProps","debounce","codeMirror","codemirror","fromTextArea","textareaNode","options","on","codemirrorValueChanged","cursorActivity","focusChanged","scrollChanged","setValue","defaultValue","toTextArea","undefined","getValue","preserveScrollPosition","prevScrollPosition","getScrollInfo","scrollTo","left","optionName","hasOwnProperty","setOptionIfChanged","newValue","oldValue","getOption","isEqual","setOption","focused","onFocusChange","cm","onCursorActivity","onScroll","doc","change","origin","autoComplete","autoFocus","defaultProps","configure","tabReplace","classPrefix","languages","EditorC","newArticle","_newArticle","_author","tagSelected","_title","rawContent","success","push","handleSearch","handleChange","aceBoxH","previewContent","currentTabIndex","hasContentChanged","scale","CodemirrorOptions","lineNumbers","theme","tabSize","lineWrapping","readOnly","autoCloseTags","extraKeys","setExtraKeys","Option","Select","popContent","placeholder","es_select","showSearch","defaultActiveFirstOption","showArrow","filterOption","onSearch","notFoundContent","spellCheck","popover","trigger","placement","node","aceBox","editorBoxH","onMouseOver","setCurrentIndex","editContainer","CodemirrorEditor_ReactCodeMirror","containerScroll","updateCode","previewContainer","previewWrap","enableMenu","documentElement","clientHeight","querySelector","offsetHeight","Tag","setScrollValue","containerH","newCode","that","F11","Esc","resultObj","offset","offsetLine","setCursor","appendTxtFn","appendValue","lastLine","getLine","React","Right","react_router","exact","component","Blogs","TimeLine","Tags","Logs","Editor","Left","nikeName","hideMenu","oleft","_left","ocontent","getElementsByClassName","backgroundColor","clientWidth","foldMenu","liftMenu","bindEvent","assertThisInitialized","transitionDuration","startX","startW","parseFloat","lrMenu","endX","endWidth","colorAlpha","initialTop","startPositionY","endsWith","btMenu","endY","postition","unfoldMenu","pullMenu","_getUser","getUser","avatar","src","openEditor","tooltip","Layout","location","reload","Sidebar_Left","Content_Right","App","Layout_Layout","ReactDOM","render","src_App","getElementById"],"mappings":"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","file":"static/js/main.716027cd.chunk.js","sourcesContent":["import Axios from \"axios\";\r\nimport { message } from \"antd\";\r\n\r\n// 获取用户名\r\nexport async function getUser(qqNum) {\r\n    return Axios.get(\"/api/get/sign?uins=\" + qqNum)\r\n}\r\n\r\n// 访问admin，获取csrf\r\nexport async function getCSRF() {\r\n    return Axios.get(\"/api/admin/login/\")\r\n                .then(res=>{\r\n                    if(res.status!==200) message.warn(\"服务器不在线\")\r\n                    else{\r\n                        const cookie = document.cookie;\r\n                        const reg = /csrftoken=(?<csrftoken>.+)/;\r\n                        const CSRFTOKEN = reg.exec(cookie).groups.csrftoken;\r\n                        return CSRFTOKEN;\r\n                    }\r\n                })\r\n                .catch(err=>{\r\n                    console.log(err)\r\n                })\r\n}","import Axios from \"axios\";\r\nimport marked from \"marked\";\r\nimport hljs from \"highlight.js\";\r\nimport { getCSRF } from \"./user\";\r\n\r\n\r\n// marked相关配置\r\nmarked.setOptions({\r\n    renderer: new marked.Renderer(),\r\n    gfm: true,\r\n    tables: true,\r\n    breaks: true,\r\n    pedantic: false,\r\n    sanitize: true,\r\n    smartLists: true,\r\n    smartypants: false,\r\n    highlight: function (code) {\r\n        return hljs.highlightAuto(code).value;\r\n    },\r\n});\r\n\r\n// mark编译\r\nexport function markCode(code) {\r\n    return marked(code)\r\n}\r\n\r\n// 保存文章\r\nexport async function newArticle(articleObj) {\r\n    return getCSRF().then(CSRFTOKEN => {\r\n        const form = new FormData();\r\n        form.append(\"title\", articleObj.title)\r\n        form.append(\"author\", articleObj.author ? articleObj.author : \"Wizard J\")\r\n        form.append(\"content\", articleObj.content)\r\n        form.append(\"tagId\", articleObj.tagId)\r\n        form.append(\"csrfmiddlewaretoken\", CSRFTOKEN)\r\n        return Axios.post(\"/api/new/article\", form)\r\n    })\r\n}\r\n\r\n// 获取文章列表\r\nexport async function listArticles(pageNum) {\r\n    return Axios.get(\"/api/list/articles?page=\" + pageNum)\r\n}","import React, { Component } from 'react';\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { markCode } from \"../../interfaces/ariticle\";\r\nimport { Tag } from \"antd\";\r\nimport \"./articleblock.scss\";\r\n\r\nexport default class componentName extends Component {\r\n\r\n    render() {\r\n\r\n        const tag = this.props.tags\r\n\r\n        return (\r\n            <div className=\"article-block\">\r\n                {/* <a href=\"/tale/2017-03-29/introducing-tale\" class=\"catalogue-item\"> */}\r\n                <div className=\"catalogue-item\">\r\n                    <time dateTime=\"2017-03-29 00:00:00 +0000\" className=\"catalogue-time\">{new Date(this.props.createdAt).toDateString()}</time>\r\n                    <NavLink to={this.props.to}>\r\n                        <h1 className=\"catalogue-title\">{this.props.title}</h1>\r\n                    </NavLink>\r\n                    <div className=\"catalogue-line\"></div>\r\n\r\n                    <p dangerouslySetInnerHTML={{__html:markCode(this.props.content).substring(0,100)}}/>\r\n\r\n                    <Tag color={tag.color}>{tag.name}</Tag>\r\n\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","const articleTool = {}\r\n\r\n\r\n// 通过id从列表中获取文章\r\narticleTool.get = id => {\r\n    let targetId = -1;\r\n    const articles = window.sessionStorage.getItem(\"articles\") ? JSON.parse(window.sessionStorage.getItem(\"articles\")) : [];\r\n    articles.forEach((item, index) => {\r\n        if (item.id === id) targetId = index;\r\n    });\r\n    if (targetId !== -1) return articles[targetId];\r\n    else return null;\r\n}\r\n\r\n// 获取文章列表\r\narticleTool.getList = () => {\r\n    return window.sessionStorage.getItem(\"articles\") ? JSON.parse(window.sessionStorage.getItem(\"articles\")) : null;\r\n}\r\n\r\n// 将文章列表保存起来\r\narticleTool.save = (articleArr) => {\r\n    window.sessionStorage.setItem(\"articles\", JSON.stringify(articleArr));\r\n}\r\n\r\n// 删除文章\r\narticleTool.delete = (id) => {\r\n    const articles = window.sessionStorage.getItem(\"articles\") ? JSON.parse(window.sessionStorage.getItem(\"articles\")) : [];\r\n    articles.forEach((item, index) => {\r\n        if (item.id === id) articles.splice(index, 1);\r\n    });\r\n    window.sessionStorage.setItem(\"articles\", JSON.stringify(articles));\r\n}\r\n\r\n// 新建文章\r\narticleTool.create = (article) => {\r\n    const articles = window.sessionStorage.getItem(\"articles\") ? JSON.parse(window.sessionStorage.getItem(\"articles\")) : [];\r\n    let targetIndex = -1;\r\n    articles.forEach((item, index) => { // 去重\r\n        if (item.id === article.id) {\r\n            articles.splice(index, 1, article);\r\n            targetIndex = index;\r\n        }\r\n    });\r\n    if (targetIndex === -1) articles.unshift(article);\r\n    window.sessionStorage.setItem(\"articles\", JSON.stringify(articles));\r\n}\r\n\r\n\r\nexport default articleTool;","import React, { Component } from 'react';\r\nimport ArticleBlock from \"../../components/ArticleBlock/ArticleBlock\";\r\nimport { listArticles } from \"../../interfaces/ariticle\";\r\nimport Article from \"../../local/articleUtil\";\r\n\r\nexport default class componentName extends Component {\r\n\r\n    _UNMOUNTED = false // 组件卸载标记，true表示已卸载\r\n\r\n    state = {\r\n        data:[],\r\n    }\r\n    componentWillUnmount(){\r\n        this._UNMOUNTED = true;\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.getArticle(1); // 获取第一页\r\n    }\r\n\r\n    getArticle = pageNum=>{\r\n        if(Article.getList()){\r\n            this.setState({\r\n                data:Article.getList()\r\n            })\r\n            return;\r\n        }\r\n        listArticles(pageNum).then(res=>{\r\n            if(this._UNMOUNTED) return;\r\n            if(res.data.status===\"OK\"){ // 请求成功\r\n                Article.save(res.data.result);\r\n                this.setState({\r\n                    data:res.data.result\r\n                })\r\n            }\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"ariticles\" style={{height:\"100%\",overflowY:\"scroll\"}}>\r\n                {\r\n                    this.state.data.map((item,index)=>{\r\n                        return <ArticleBlock key={item.id} to={\"/article/\"+item.id} {...item}/>\r\n                    })\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Timeline, Icon } from 'antd';\r\nimport { listArticles } from \"../../interfaces/ariticle\"\r\nimport Article from \"../../local/articleUtil\";\r\n\r\nimport \"./timeline.scss\";\r\n\r\nexport default class componentName extends Component {\r\n    \r\n    _UNMOUNTED = false;\r\n\r\n    state ={\r\n        data: null\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        this._UNMOUNTED = true;\r\n    }\r\n\r\n    componentDidMount(){ //从本地缓存获取数据\r\n        if(Article.getList()){\r\n            this.setState({\r\n                data:Article.getList()\r\n            })\r\n            return;\r\n        }else{\r\n            // 从服务器获取\r\n            listArticles(1)\r\n                .then(res=>{\r\n                    if(res.data.status === \"OK\"){\r\n                        Article.save(res.data.result)\r\n                        if(this._UNMOUNTED) return; // 请求已过期\r\n                        this.setState({\r\n                            data: res.data.result\r\n                        })\r\n                    }\r\n                })\r\n        }\r\n        \r\n    }\r\n    \r\n    randomColor = () => {\r\n        const color = [\"magenta\",\"red\",\"volcano\",\"orange\",\"gold\",\"lime\",\"green\",\"cyan\",\"blue\",\"geekblue\",\"purple\"]\r\n        return color[Math.floor(Math.random()*color.length)]\r\n    }\r\n\r\n    render() {\r\n\r\n        const data = this.state.data;\r\n        \r\n        let date = data && data[0] ? data[0].createdAt.split(\" \")[0] : \"1970-01-01\"; // 样式选择，每天第一篇文章返回一个时钟样式\r\n\r\n        return (\r\n            <div className=\"timeline\">\r\n                <Timeline mode=\"alternate\">\r\n                    {\r\n                        data && data.map((item,index)=>{\r\n                            const thisDate = item.createdAt.split(\" \")[0];\r\n                            if(thisDate !== date){\r\n                                date = thisDate; // 新一天\r\n                                return(\r\n                                    <Timeline.Item key={item.id} dot={<Icon type=\"clock-circle-o\" style={{ fontSize: '16px' }} />}>{thisDate+\" \"+item.title}</Timeline.Item>\r\n                                )\r\n                            }else{\r\n                                return(\r\n                                    <Timeline.Item key={item.id} color={this.randomColor()}>{item.title}</Timeline.Item>\r\n                                )\r\n                            }\r\n                        })\r\n                    }\r\n                </Timeline>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import Axios from \"axios\";\r\nimport { getCSRF } from \"./user\";\r\n\r\ngetCSRF();\r\n\r\n// 新建标签\r\nexport async function newTag(tagObj) {\r\n    return getCSRF().then(CSRFTOKEN => {\r\n        const form = new FormData();\r\n        for (let field in tagObj) {\r\n            form.append(field, tagObj[field])\r\n        }\r\n        if (!tagObj.createdBy) form.append(\"createdBy\", \"佚名\")\r\n        form.append(\"csrfmiddlewaretoken\", CSRFTOKEN)\r\n        return Axios.post(\"/api/new/tag\", form)\r\n    })\r\n}\r\n\r\n// 获取标签列表\r\nexport async function listTags() {\r\n    return Axios.get(\"/api/list/tags\")\r\n}\r\n\r\n// 删除标签\r\nexport async function delTag(id) {\r\n    return Axios.get(\"/api/del/tag?id=\" + id)\r\n}","const tagTool = {}\r\n\r\n// 通过id从列表中获取标签\r\ntagTool.get = id => {\r\n    let targetId = -1;\r\n    const tags = window.sessionStorage.getItem(\"tags\") ? JSON.parse(window.sessionStorage.getItem(\"tags\")) : [];\r\n    tags.forEach((item, index) => {\r\n        if (item.id === id) targetId = index;\r\n    });\r\n    if (targetId !== -1) return tags[targetId];\r\n    else return null;\r\n}\r\n\r\n// 获取标签列表\r\ntagTool.getList = () => {\r\n    return window.sessionStorage.getItem(\"tags\") ? JSON.parse(window.sessionStorage.getItem(\"tags\")) : null;\r\n}\r\n\r\n// 将标签列表保存起来\r\ntagTool.save = (tagArr) => {\r\n    window.sessionStorage.setItem(\"tags\", JSON.stringify(tagArr));\r\n}\r\n\r\n// 删除标签\r\ntagTool.delete = (id) => {\r\n    const tags = window.sessionStorage.getItem(\"tags\") ? JSON.parse(window.sessionStorage.getItem(\"tags\")) : [];\r\n    tags.forEach((item, index) => {\r\n        if (item.id === id) tags.splice(index, 1);\r\n    });\r\n    window.sessionStorage.setItem(\"tags\", JSON.stringify(tags));\r\n}\r\n\r\n// 新建标签\r\ntagTool.create = (tag) => {\r\n    const tags = window.sessionStorage.getItem(\"tags\") ? JSON.parse(window.sessionStorage.getItem(\"tags\")) : [];\r\n    let targetIndex = -1;\r\n    tags.forEach((item, index) => { // 去重\r\n        if (item.id === tag.id) {\r\n            tags.splice(index, 1, tag);\r\n        }\r\n    });\r\n    if (targetIndex === -1) tags.unshift(tag);\r\n    window.sessionStorage.setItem(\"tags\", JSON.stringify(tags));\r\n}\r\n\r\n\r\nexport default tagTool;","import React, { Component } from 'react';\r\nimport { Tag, Icon, Input, message } from 'antd';\r\nimport { newTag, listTags, delTag } from \"../../interfaces/tags\";\r\nimport TagUtil from \"../../local/tagUtils\"\r\nimport \"./tags.scss\";\r\n\r\nexport default class componentName extends Component {\r\n\r\n    _UNMOUNTED = false; // 组件卸载标记\r\n\r\n    componentWillUnmount(){\r\n        this._UNMOUNTED = true;\r\n    }\r\n\r\n    state = {\r\n        tags: [],\r\n        inputVisible: false,\r\n        inputValue: '',\r\n    }\r\n\r\n    showInput = () => {\r\n        this.setState({ inputVisible: true }, () => this.input.focus());\r\n    };\r\n\r\n    handleInputChange = e => {\r\n        this.setState({ inputValue: e.target.value });\r\n    };\r\n\r\n    handleInputBlur = e => {\r\n        this.setState({ inputVisible: false, inputValue: '' })\r\n    }\r\n\r\n    // 新建tag\r\n    handleInputConfirm = () => {\r\n        const tagName = this.state.inputValue;\r\n        let { tags } = this.state;\r\n        let createdBy;\r\n        if (window.wizard_blog) createdBy = window.wizard_blog.user;\r\n        let newItem = {\r\n            createdBy,\r\n            color: this.getColor(),\r\n            name: tagName\r\n        }\r\n\r\n        newTag(newItem).then(res => {\r\n            if (res.data.status !== \"OK\") { // 创建失败\r\n                throw new Error(res.data.message)\r\n            } else { // 创建成功\r\n                newItem = res.data.result;\r\n                tags = [...tags, newItem]\r\n                TagUtil.create(newItem); // 本地保存\r\n                if(this._UNMOUNTED) return;\r\n                this.setState({\r\n                    tags,\r\n                    inputVisible: false,\r\n                    inputValue: '',\r\n                });\r\n            }\r\n        }).catch(err => {\r\n            console.log(err)\r\n            message.error(\"创建标签失败服务器异常\")\r\n        })\r\n\r\n    };\r\n\r\n    saveInputRef = input => (this.input = input);\r\n\r\n\r\n    // 获取随机颜色\r\n    getColor = () => {\r\n        const table = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 'a', 'b', 'c', 'd', 'e', 'f'];\r\n        let randomColor = \"#\";\r\n        for (let i = 0; i < 6; i++) {\r\n            randomColor += table[(Math.floor(Math.random() * 16))]\r\n        }\r\n        return randomColor\r\n    }\r\n\r\n    // 删除tag\r\n    delTag = (id, index, e) => {\r\n        // e.preventDefault();\r\n        delTag(id)\r\n            .then(res => {\r\n                // console.log(res)\r\n                if (res.data.status !== \"OK\") { // 删除失败\r\n                    throw new Error(res.data.message)\r\n                } else {\r\n                    // 删除标签\r\n                    const tags = this.state.tags;\r\n                    tags.splice(index, 1);\r\n                    if(this._UNMOUNTED) return;\r\n                    this.setState({ tags });\r\n                    TagUtil.delete(id); // 本地缓存\r\n                }\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n                message.error(err)\r\n            })\r\n    }\r\n\r\n    componentDidMount() {\r\n        // 获取标签数据\r\n        if(TagUtil.getList()){\r\n            this.setState({\r\n                tags: TagUtil.getList()\r\n            })\r\n            return;\r\n        }\r\n        listTags()\r\n            .then(res => {\r\n                if (res.data.status === \"OK\") {\r\n                    if(this._UNMOUNTED) return;\r\n                    this.setState({\r\n                        tags: res.data.result\r\n                    })\r\n                    TagUtil.save(res.data.result)\r\n                } else {\r\n                    throw new Error(res.data.message)\r\n                }\r\n            }).catch(err => {\r\n                console.log(err)\r\n                message.warn(\"服务器异常\")\r\n            })\r\n    }\r\n\r\n    render() {\r\n        const { tags, inputVisible, inputValue } = this.state;\r\n        return (\r\n            <div className=\"tags\">\r\n                <h4 style={{ marginBottom: 16 }}>标签库:</h4>\r\n                <div>\r\n                    <Tag color=\"magenta\">magenta</Tag>\r\n                    <Tag color=\"red\">red</Tag>\r\n                    <Tag color=\"volcano\">volcano</Tag>\r\n                    <Tag color=\"orange\">orange</Tag>\r\n                    <Tag color=\"gold\">gold</Tag>\r\n                    <Tag color=\"lime\">lime</Tag>\r\n                    <Tag color=\"green\">green</Tag>\r\n                    <Tag color=\"cyan\">cyan</Tag>\r\n                    <Tag color=\"blue\">blue</Tag>\r\n                    <Tag color=\"geekblue\">geekblue</Tag>\r\n                    <Tag color=\"purple\">purple</Tag>\r\n                </div>\r\n                <h4 style={{ margin: '16px 0' }}>新建标签:</h4>\r\n                <div>\r\n                    {\r\n                        tags.map((item, index) => {\r\n                            return (<Tag key={item.color} closable onClose={this.delTag.bind(this, item.id, index)} color={item.color}>{item.name}</Tag>)\r\n                        })\r\n                    }\r\n                </div>\r\n                {inputVisible && (\r\n                    <Input\r\n                        ref={this.saveInputRef}\r\n                        type=\"text\"\r\n                        size=\"small\"\r\n                        style={{ width: 78 }}\r\n                        value={inputValue}\r\n                        onChange={this.handleInputChange}\r\n                        onBlur={this.handleInputBlur}\r\n                        onPressEnter={this.handleInputConfirm}\r\n                    />\r\n                )}\r\n                {!inputVisible && (\r\n                    <Tag onClick={this.showInput} style={{ background: '#fff', borderStyle: 'dashed' }}>\r\n                        <Icon type=\"plus\" /> New Tag\r\n                    </Tag>\r\n                )}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import Axios from \"axios\";\r\nimport qs from \"qs\";\r\n\r\n// 获取当日的日志\r\nexport async function listLog() {\r\n    return Axios.get(\"/api/list/log\")\r\n}\r\n\r\n// 获取目标日期范围内的日志列表\r\nexport async function getLogs(datestring) {\r\n    return Axios.get(\"/api/get/logs\",\r\n        {\r\n            params: {\r\n                datestring: datestring\r\n            },\r\n            paramsSerializer: function (params) {\r\n                return qs.stringify(params, { arrayFormat: 'repeat' })\r\n            }\r\n        }\r\n    )\r\n}","const logTool = {}\r\n\r\n// 获取标签列表\r\nlogTool.getList = () => {\r\n    return window.sessionStorage.getItem(\"logs\") ? JSON.parse(window.sessionStorage.getItem(\"logs\")) : null;\r\n}\r\n\r\n// 将标签列表保存起来\r\nlogTool.save = (logArr) => {\r\n    window.sessionStorage.setItem(\"logs\", JSON.stringify(logArr));\r\n}\r\n\r\n// 删除标签\r\nlogTool.delete = (id) => {\r\n    const logs = window.sessionStorage.getItem(\"logs\") ? JSON.parse(window.sessionStorage.getItem(\"logs\")) : [];\r\n    logs.forEach((item, index) => {\r\n        if (item.id === id) logs.splice(index, 1);\r\n    });\r\n    window.sessionStorage.setItem(\"logs\", JSON.stringify(logs));\r\n}\r\n\r\n\r\nexport default logTool;","import React, { Component } from 'react';\r\nimport { listLog, getLogs } from \"../../interfaces/logs\";\r\nimport { Divider, DatePicker } from \"antd\";\r\nimport Log from \"../../local/logUtil\";\r\n\r\nimport \"./logs.scss\";\r\n\r\nexport default class componentName extends Component {\r\n\r\n    _UNMOUNTED = false\r\n\r\n    state = {\r\n        data: [],\r\n        history: []\r\n    }\r\n\r\n    componentWillMount() {\r\n        if(Log.getList()){ // 首先尝试从本地缓存读取\r\n            return this.setState({\r\n                data:Log.getList()\r\n            })\r\n        }\r\n        listLog() // 从服务器读取\r\n            .then(res => {\r\n                if (res.data.status === \"OK\") {\r\n                    Log.save(res.data.result); // 保存缓存\r\n                    if (this._UNMOUNTED) return;\r\n                    // 请求成功\r\n                    this.setState({\r\n                        data: res.data.result,\r\n                        history: res.data.dir\r\n                    })\r\n                }\r\n\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n            })\r\n    }\r\n\r\n    render() {\r\n        const { RangePicker } = DatePicker;\r\n        let thisIp = -1; // 初始化人员计数\r\n        return (\r\n            <div className=\"logs\">\r\n                <div className=\"history\">\r\n                    <div>\r\n                        <RangePicker onChange={this.onChange} />\r\n                    </div>\r\n                </div>\r\n                {\r\n                    this.state.data.map((item, index) => {\r\n                        const reg = /(?<ip>\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}.\\d{1,3}):\\[(?<timestamp>[\\d-:\\s]+)\\] (?<computerName>[\\S-]+) (?<os>\\S+) (?<method>\\S+) (?<path>\\S+)/;\r\n                        const result = reg.exec(item).groups;\r\n                        const ip = result.ip;\r\n                        const timestamp = result.timestamp;\r\n                        const computerName = result.computerName;\r\n                        const os = result.os;\r\n                        const method = result.method;\r\n                        const path = result.path;\r\n\r\n                        const logItem = (\r\n                            <div key={timestamp+index+\"\"} className=\"log-item\">\r\n                                <span className=\"item\">[<span className=\"timestamp\">{timestamp}</span>]</span>\r\n                                <span className=\"item computer-name\">{computerName}</span>\r\n                                <span className=\"item os\">{os}</span>\r\n                                <span className=\"item method\">{method}</span>\r\n                                <span className=\"item path\">{path}</span>\r\n                            </div>\r\n                        )\r\n\r\n                        if (thisIp === ip) return logItem\r\n                        else {\r\n                            thisIp = ip;\r\n                            return (\r\n                                <div className=\"log-item\" key={timestamp+index+\"\"}>\r\n                                    <Divider />\r\n                                    <div className=\"ip\">{thisIp}</div>\r\n                                    {logItem}\r\n                                </div>\r\n                            )\r\n                        }\r\n                    })\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n\r\n    onChange = (date, dateString) => {\r\n        // console.log(new Date(dateString[0]) , new Date(dateString[1]))\r\n        getLogs(dateString)\r\n            .then(res=>{\r\n                // console.log(res)\r\n                if(this._UNMOUNTED) return;\r\n                if(res.data.status===\"OK\"){\r\n                    // 请求成功\r\n                    this.setState({data:res.data.result})\r\n                }\r\n            })\r\n            .catch(err=>{\r\n                console.log(err)\r\n            })\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { markCode } from \"../../interfaces/ariticle\";\r\nimport Article from \"../../local/articleUtil\";\r\nimport \"./article.scss\";\r\n\r\nexport default class componentName extends Component {\r\n\r\n\r\n    render() {\r\n\r\n        const articleId = parseInt(this.props.match.params.id);\r\n        const article = Article.get(articleId);\r\n\r\n        return (\r\n            <div className=\"article\">\r\n                <div className=\"post\">\r\n                    <div className=\"post-info\">\r\n                        <span>Written by</span>\r\n                        {article.author}\r\n                        <br />\r\n                        <span>on&nbsp;</span><time>{article.createdAt}</time>\r\n                    </div>\r\n\r\n                    <h1 className=\"post-title\">{article.title}</h1>\r\n                    <div className=\"post-line\"></div>\r\n\r\n                    <div className=\"content-preview\" dangerouslySetInnerHTML={{__html:markCode(article.content)}} >\r\n                    </div>\r\n\r\n                </div>\r\n                <div className=\"pagination\">\r\n                    <a href=\"/tale/2017-03-16/example-content\" className=\"right arrow\">→</a>\r\n                    <a href=\"/\" className=\"top\">Top</a>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport \"./bar.scss\";\r\n\r\nexport default class componentName extends Component {\r\n\r\n    state = {\r\n        showBar:false,\r\n        barHeight:0\r\n    }\r\n\r\n\r\n    shouldComponentUpdate(nextProps,nextStates){\r\n        const {box,text} = nextProps;\r\n        \r\n        // 获取文本域的高度\r\n        const scrollHeight = text.scrollHeight;\r\n        const viewPortHeight = parseInt(getComputedStyle(box).height);\r\n\r\n        // 滚动高度小于视口高度时不需要滚动条，否则显示滚动条\r\n        if(scrollHeight <= viewPortHeight){\r\n            text.onmousewheel = null;\r\n            text.style.top = 0;\r\n            return this.setState({\r\n                showBar:false\r\n            })\r\n        }else{\r\n            this.setState({\r\n                showBar:true\r\n            })\r\n        }\r\n        if(!this._bar) return false;\r\n        // 计算滚动条高度\r\n        const barHeight = viewPortHeight * viewPortHeight / scrollHeight;\r\n        \r\n        const pre_barHeight = this.state.barHeight;\r\n        \r\n        if( barHeight === pre_barHeight ) return false; // 高度没有变化，不更新\r\n        this.setState({ // 高度发生变化\r\n            barHeight\r\n        })\r\n\r\n        const bar = this._bar;\r\n        const maxTop = viewPortHeight - barHeight;\r\n\r\n        // 滚轮事件\r\n        text.onmousewheel = function (e) {\r\n            e.preventDefault();\r\n            // 上下每次页面位移100px\r\n            \r\n            const barTop = parseInt(getComputedStyle(bar).top); // 滚动条初始位置\r\n            const newBarTop = barTop + viewPortHeight * e.deltaY / scrollHeight;\r\n            if( newBarTop > maxTop){ // 下界\r\n                text.style.top = -( scrollHeight - viewPortHeight ) + \"px\";\r\n                bar.style.top = maxTop + \"px\";\r\n                return;\r\n            }else if( newBarTop < 0 ){ // 上界\r\n                text.style.top = 0;\r\n                bar.style.top = 0;\r\n                return;\r\n            }\r\n\r\n            text.style.top = parseInt(getComputedStyle(text).top) - e.deltaY + \"px\";\r\n            // 计算滚动条比例\r\n            bar.style.top = newBarTop + \"px\";\r\n            box.scrollTop = 0;\r\n        }\r\n\r\n\r\n        // 鼠标拖动滚动条事件\r\n        bar.onmousedown = function(e) {\r\n            const startY = e.clientY; // 起始位置\r\n            const barTop = parseInt(getComputedStyle(bar).top);\r\n\r\n            // 解绑事件\r\n            document.onmouseup = function(){\r\n                document.onmousemove = null;\r\n                document.onmouseup = null;\r\n            }\r\n            \r\n            // 绑定事件\r\n            document.onmousemove = function (e) {\r\n                e.preventDefault();\r\n                // 解绑事件\r\n                const viewPortWidth = document.body.clientX;\r\n                if (e.clientX < 0 || e.clientX > viewPortWidth || e.clientY > viewPortHeight || e.clientY < 0) {// 鼠标离开视口\r\n                    document.onmousemove = null;\r\n                    document.onmouseup = null;\r\n                    return;\r\n                }\r\n\r\n                const endY = e.clientY; // 移动中的末位置\r\n                const deltaY = endY - startY; // 变化值 δ<0 表示向上 ，δ>0 表示向下\r\n\r\n                const endPos = barTop + deltaY;\r\n                \r\n                // 滚轮表示已经拉到了极点\r\n                if(endPos < 0 ){ // 上边界\r\n                    text.style.top = 0;\r\n                    bar.style.top = 0;\r\n                    return; \r\n                }else if(endPos > maxTop){ // 下边界\r\n                    text.style.top = ( viewPortHeight - scrollHeight) +\"px\";\r\n                    bar.style.top = maxTop + \"px\";\r\n                    return; \r\n                }\r\n                \r\n                // 改变滚动条位置\r\n                bar.style.top = endPos+\"px\";\r\n\r\n                // 计算等比例的barTop对应的textTop\r\n                const textTop = (scrollHeight -  viewPortHeight) * (barTop + deltaY) / maxTop\r\n                text.style.top = - textTop +\"px\";\r\n                \r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div className=\"slide\" ref={_slide => this._slide = _slide} onClick={this.test}>\r\n                {\r\n                    this.state.showBar && <div className=\"bar\" style={{height:this.state.barHeight}} ref={_bar => this._bar = _bar}></div>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Button } from \"antd\";\r\nimport Bar from \"../Bar/Bar\";\r\nimport marked from \"marked\";\r\nimport 'highlight.js/styles/atom-one-light.css';\r\nimport \"./editor.scss\";\r\nimport \"./markdown.scss\";\r\n\r\nexport default class Article extends Component {\r\n\r\n    state = {\r\n        article: \"\",\r\n    }\r\n\r\n    componentDidMount() {\r\n        // marked相关配置\r\n        marked.setOptions({\r\n            renderer: new marked.Renderer(),\r\n            highlight: function(code) {\r\n              return require('highlight.js').highlightAuto(code).value;\r\n            },\r\n            pedantic: false,\r\n            gfm: true,\r\n            tables: true,\r\n            breaks: false,\r\n            sanitize: false,\r\n            smartLists: true,\r\n            smartypants: false,\r\n            xhtml: false\r\n          });\r\n\r\n        this._editor_box.onclick = e => {\r\n            this._editor_textarea.focus();\r\n        }\r\n\r\n        window._wizard.disableMenu();\r\n\r\n    }\r\n\r\n    textChange = e => {\r\n        /* \r\n            输入文本时：\r\n            - 调整textarea高度\r\n            - 超出视口高度则显示滚动条\r\n        */\r\n        // 编辑区\r\n        const otextarea = this._editor_textarea;\r\n        otextarea.style.height = \"auto\";\r\n        otextarea.scrollTop = 0;\r\n        otextarea.style.height = otextarea.scrollHeight + \"px\";\r\n        this.setState({\r\n            article: marked(e.target.value),\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"editor\">\r\n\r\n                <div className=\"tools\">\r\n                    <i>不要吹灭你的灵感和你的想象力; 不要成为你的模型的奴隶。 ——文森特・梵高</i>\r\n                    <Button type=\"primary\">保存</Button>\r\n                </div>\r\n\r\n                <div className=\"content-box\" ref={_out => this._out = _out}>\r\n                    \r\n                    <div className=\"editor-box\" ref={_text => this._editor_box = _text}>\r\n                        <textarea name=\"content\" onChange={this.textChange} ref={_text => this._editor_textarea = _text} />\r\n                        <Bar box={this._editor_box} text={this._editor_textarea} />\r\n                    </div>\r\n\r\n                    <div className=\"preview\" ref={_preview => this._preview = _preview}>\r\n                        <div className=\"content-preview\" ref={_preview_con => this._preview_con = _preview_con} dangerouslySetInnerHTML={{ __html: this.state.article }} />\r\n                        <Bar box={this._preview} text={this._preview_con} />\r\n                    </div>\r\n\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport codemirror from 'codemirror'\r\nimport PropTypes from 'prop-types'\r\nimport isEqual from 'lodash.isequal'\r\nimport debounce from 'lodash.debounce'\r\n\r\nfunction normalizeLineEndings (str) {\r\n\tif (!str) return str\r\n\treturn str.replace(/\\r\\n|\\r/g, '\\n')\r\n}\r\n\r\nlet CodemirrorHandler = null\r\n\r\nexport default class ReactCodeMirror extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      isFocused: false\r\n    }\r\n  }\r\n\tcomponentWillMount () {\r\n\t\tthis.componentWillReceiveProps = debounce(this.componentWillReceiveProps, 0)\r\n\t\tif (this.props.path) {\r\n\t\t\tconsole.error('Warning: react-codemirror: the `path` prop has been changed to `name`')\r\n\t\t}\r\n\t}\r\n\tcomponentDidMount () {\r\n\t\tthis.codeMirror = codemirror.fromTextArea(this.textareaNode, this.props.options)\r\n\t\tCodemirrorHandler = this.codeMirror\r\n\t\tCodemirrorHandler.on('change', this.codemirrorValueChanged.bind(this))\r\n\t\tCodemirrorHandler.on('cursorActivity', this.cursorActivity.bind(this))\r\n\t\tCodemirrorHandler.on('focus', this.focusChanged.bind(this, true))\r\n\t\tCodemirrorHandler.on('blur', this.focusChanged.bind(this, false))\r\n\t\tCodemirrorHandler.on('scroll', this.scrollChanged.bind(this))\r\n\t\tCodemirrorHandler.setValue(this.props.defaultValue || this.props.value || '')\r\n\t}\r\n\tcomponentWillUnmount () {\r\n\t\tif (this.codeMirror) {\r\n\t\t\tthis.codeMirror.toTextArea()\r\n\t\t}\r\n\t}\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tif (this.codeMirror && nextProps.value !== undefined && nextProps.value !== this.props.value && normalizeLineEndings(this.codeMirror.getValue()) !== normalizeLineEndings(nextProps.value)) {\r\n\t\t\tif (this.props.preserveScrollPosition) {\r\n\t\t\t\tvar prevScrollPosition = this.codeMirror.getScrollInfo()\r\n\t\t\t\tthis.codeMirror.setValue(nextProps.value)\r\n\t\t\t\tthis.codeMirror.scrollTo(prevScrollPosition.left, prevScrollPosition.top)\r\n\t\t\t} else {\r\n\t\t\t\tthis.codeMirror.setValue(nextProps.value)\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (typeof nextProps.options === 'object') {\r\n\t\t\tfor (let optionName in nextProps.options) {\r\n\t\t\t\tif (nextProps.options.hasOwnProperty(optionName)) {\r\n\t\t\t\t\tthis.setOptionIfChanged(optionName, nextProps.options[optionName])\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tsetOptionIfChanged (optionName, newValue) {\r\n \t\tconst oldValue = this.codeMirror.getOption(optionName)\r\n \t\tif (!isEqual(oldValue, newValue)) {\r\n \t\t\tthis.codeMirror.setOption(optionName, newValue)\r\n \t\t}\r\n \t}\r\n\tgetCodeMirror () {\r\n\t\treturn this.codeMirror\r\n\t}\r\n\tfocus () {\r\n\t\tif (this.codeMirror) {\r\n\t\t\tthis.codeMirror.focus()\r\n\t\t}\r\n\t}\r\n\tfocusChanged (focused) {\r\n\t\tthis.setState({\r\n\t\t\tisFocused: focused,\r\n\t\t})\r\n\t\tthis.props.onFocusChange && this.props.onFocusChange(focused)\r\n\t}\r\n\tcursorActivity (cm) {\r\n\t\tthis.props.onCursorActivity && this.props.onCursorActivity(cm)\r\n\t}\r\n\tscrollChanged (cm) {\r\n\t\tthis.props.onScroll && this.props.onScroll(cm.getScrollInfo())\r\n\t}\r\n\tcodemirrorValueChanged (doc, change) {\r\n\t\tif (this.props.onChange && change.origin !== 'setValue') {\r\n\t\t\tthis.props.onChange(doc.getValue(), change)\r\n\t\t}\r\n\t}\r\n\trender () {\r\n\t\treturn (\r\n\t\t\t<div className={this.props.className ? 'ReactCodeMirror '+this.props.className : 'ReactCodeMirror'}>\r\n\t\t\t\t<textarea\r\n\t\t\t\t\tref={ref => this.textareaNode = ref}\r\n\t\t\t\t\tname={this.props.name || this.props.path}\r\n\t\t\t\t\tdefaultValue={this.props.value}\r\n\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\tautoFocus={this.props.autoFocus}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport {\r\n\tCodemirrorHandler\r\n}\r\n\r\nReactCodeMirror.propTypes = {\r\n  autoFocus: PropTypes.bool,\r\n  className: PropTypes.any,\r\n  codeMirrorInstance: PropTypes.func,\r\n  defaultValue: PropTypes.string,\r\n  name: PropTypes.string,\r\n  onChange: PropTypes.func,\r\n  onCursorActivity: PropTypes.func,\r\n  onFocusChange: PropTypes.func,\r\n  onScroll: PropTypes.func,\r\n  options: PropTypes.object,\r\n  path: PropTypes.string,\r\n  value: PropTypes.string,\r\n  preserveScrollPosition: PropTypes.bool\r\n}\r\n\r\nReactCodeMirror.defaultProps = {\r\n  preserveScrollPosition: false\r\n}\r\n","import React from 'react'\r\nimport marked from 'marked'\r\nimport { Popover, Button, Select, message, Input } from \"antd\"\r\nimport highlight from 'highlight.js'\r\nimport { newArticle } from '../../interfaces/ariticle'\r\nimport { listTags } from \"../../interfaces/tags\"\r\nimport Tag from \"../../local/tagUtils\"\r\nimport Article from \"../../local/articleUtil\"\r\n\r\n\r\nimport CodemirrorEditor, {CodemirrorHandler} from '../CodemirrorEditor'\r\n\r\nrequire('codemirror/lib/codemirror.css')\r\nrequire('codemirror/theme/solarized.css')\r\n// 搜索 Ctrl-F (PC), Cmd-F (Mac)\r\n// 搜索的上一个结果 Shift-Ctrl-G (PC), Shift-Cmd-G (Mac)\r\n// 搜索的下一个结果 Ctrl-G (PC), Cmd-G (Mac)\r\n// 替换(replace)   Shift-Ctrl-F (PC), Cmd-Alt-F (Mac)\r\n// 替换全部(replaceAll)   Shift-Ctrl-R (PC), Shift-Cmd-Alt-F (Mac)\r\nrequire('codemirror/addon/search/search')\r\n// 光标跳到第几行 Alt-G，例如输入 9:26，则光标定位到第9行第26列\r\nrequire('codemirror/addon/search/jump-to-line')\r\n// 搜索或者跳转行数出现的弹出框样式\r\nrequire('codemirror/addon/dialog/dialog.css')\r\n// 当输入 '>' 或 '/' 字符的时候, 自动关闭标签\r\nrequire('codemirror/addon/edit/closetag')\r\n// 当光标定位于编辑器内，并且按 F11的时候编辑框全屏\r\nrequire('codemirror/addon/display/fullscreen')\r\n// 全屏样式\r\nrequire('codemirror/addon/display/fullscreen.css')\r\n\r\nrequire('codemirror/mode/javascript/javascript')\r\nrequire('codemirror/mode/jsx/jsx')\r\nrequire('codemirror/mode/css/css')\r\nrequire('codemirror/mode/sass/sass')\r\nrequire('codemirror/mode/xml/xml')\r\nrequire('codemirror/mode/markdown/markdown')\r\n\r\n// require('../../statics/style/common.css')\r\nrequire(\"../../statics/style/common.scss\")\r\nrequire('../../statics/style/js-highlight.css')\r\nrequire('./style.scss')\r\n\r\nhighlight.configure({\r\n  tabReplace: '  ',\r\n  classPrefix: 'hljs-',\r\n  languages: ['CSS', 'HTML, XML', 'JavaScript', 'PHP', 'Python', 'Stylus', 'TypeScript', 'Markdown']\r\n})\r\nmarked.setOptions({\r\n  highlight (code) {\r\n    return highlight.highlightAuto(code).value\r\n  }\r\n})\r\n\r\nexport default class EditorC extends React.Component {\r\n\r\n  _UNMOUNTED = false;\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      aceBoxH: null,\r\n      rawContent:'',\r\n      previewContent: '',\r\n      tags:[],\r\n      tagSelected:\"\",\r\n      currentTabIndex: 1,\r\n      hasContentChanged: false,\r\n      scale: 1\r\n    }\r\n    this.CodemirrorOptions = {\r\n      lineNumbers: false,\r\n      theme: 'solarized',\r\n      tabSize: 2,\r\n      lineWrapping: true,\r\n\t\t\treadOnly: false,\r\n      mode: 'markdown',\r\n      // 是否自动闭合标签，基于 codemirror/addon/edit/closetag\r\n      autoCloseTags: true,\r\n      // 自定义快捷键\r\n      extraKeys: this.setExtraKeys()\r\n    }\r\n  }\r\n\trender () {\r\n    let state = this.state;\r\n    const { Option } = Select;\r\n    \r\n    const popContent = (\r\n      <div className=\"pop-over\">\r\n        <Input placeholder=\"署名\" ref={_author => this._author = _author}/>\r\n        <Select\r\n          showSearch\r\n          style={{width:\"100%\"}}\r\n          placeholder={\"标签\"}\r\n          defaultActiveFirstOption={false}\r\n          showArrow={false}\r\n          filterOption={false}\r\n          onSearch={this.handleSearch}\r\n          onChange={this.handleChange}\r\n          notFoundContent={\"输入内容以新建\"}\r\n        >\r\n          {this.state.tags.map((item,index) => <Option key={item.id}>{item.name}</Option>)}\r\n        </Select>\r\n        <Button type=\"primary\" onClick={this.newArticle}>确认</Button>\r\n      </div>\r\n    );\r\n    return [\r\n      <header className=\"edit-header\" key='header'>\r\n        <input type=\"text\" className=\"title-input\" placeholder=\"不要吹灭你的灵感和你的想象力; 不要成为你的模型的奴隶。 ——文森特・梵高\" spellCheck=\"false\" ref={_title=>this._title=_title}/>\r\n        <Popover className=\"save-button\" content={popContent} title=\"biu biu biu\" trigger=\"click\" placement=\"bottomRight\">\r\n          <Button>保存</Button>\r\n        </Popover>\r\n      </header>,\r\n      <div className=\"editor-main-c\" ref={node=>this.aceBox = node} style={{height: state.editorBoxH + 'px'}} key='main'>\r\n        <div className=\"common-container editor-container\" onMouseOver={this.setCurrentIndex.bind(this, 1)} ref={node=>this.editContainer=node}>\r\n          {\r\n            state.editorBoxH &&\r\n            <CodemirrorEditor\r\n              ref=\"editor\"\r\n              onScroll={this.containerScroll.bind(this, 1)}\r\n              onChange={this.updateCode.bind(this)}\r\n              options={this.CodemirrorOptions}\r\n              autoFocus={true}/>\r\n          }\r\n        </div>\r\n        <div className=\"common-container preview-container\" ref={node=>this.previewContainer=node} onMouseOver={this.setCurrentIndex.bind(this, 2)} onScroll={this.containerScroll.bind(this, 2)}>\r\n          <div className=\"markdown-body preview-wrapper\" dangerouslySetInnerHTML={{__html: state.previewContent}} ref={node=>this.previewWrap=node}></div>\r\n        </div>\r\n      </div>\r\n    ]\r\n  }\r\n  componentWillUnmount(){\r\n    this._UNMOUNTED = true;\r\n    window._wizard.enableMenu();\r\n  }\r\n\r\n  componentDidMount() {\r\n    window._wizard.disableMenu();\r\n    this.setState({\r\n      editorBoxH: document.documentElement.clientHeight - document.querySelector('.edit-header').offsetHeight\r\n    })\r\n    // 获取标签列表\r\n    if(Tag.getList()){ // 本地获取\r\n      this.setState({\r\n        tags:Tag.getList()\r\n      })\r\n      return;\r\n    }else{ // 服务器获取\r\n      listTags()\r\n        .then(res => {\r\n          if(this._UNMOUNTED) return;\r\n          if(res.data.status === \"OK\"){\r\n            this.setState({\r\n              tags:res.data.result\r\n            })\r\n          }else{\r\n            throw new Error(res.data.message)\r\n          }\r\n        }).catch(err => {\r\n          message.error(err)\r\n        })\r\n    }\r\n  }\r\n\r\n  setCurrentIndex(index) {\r\n    this.setState({\r\n      currentTabIndex: index\r\n    })\r\n  }\r\n\r\n  containerScroll(index, e) {\r\n    let state = this.state\r\n    state.hasContentChanged && this.setScrollValue()\r\n    if (state.currentTabIndex === 1 && index === 1) {\r\n      this.previewContainer.scrollTop = e.top * state.scale\r\n    } else if(state.currentTabIndex === 2 && index === 2) {\r\n      CodemirrorHandler.scrollTo(null, this.previewContainer.scrollTop / state.scale)\r\n    }\r\n  }\r\n\r\n  setScrollValue() {\r\n    // 设置值，方便 scrollBy 操作\r\n    // 两个容器元素的高度是相同的\r\n    let containerH = this.previewContainer.offsetHeight\r\n    this.setState({\r\n      scale: (this.previewWrap.offsetHeight - containerH) / (CodemirrorHandler.getScrollInfo().height - containerH),\r\n      hasContentChanged: false\r\n    })\r\n  }\r\n  \r\n  updateCode(newCode) {\r\n    this.setState({\r\n      rawContent:newCode,\r\n      previewContent: marked(newCode)\r\n    })\r\n    !this.state.hasContentChanged && (this.setState({hasContentChanged: true}))\r\n  }\r\n  \r\n  setExtraKeys() {\r\n    // 自定义快捷键\r\n    const that = this\r\n    let appendTxtFn = ()=> {\r\n      let resultObj = {}\r\n      let key2Command = [\r\n        { name: 'Ctrl-H', value: '## ', offset: 0 },\r\n        { name: 'Ctrl-B', value: '**', offset: 1 },\r\n        { name: 'Ctrl-K', value: '[]()', offset: 3 },\r\n        { name: 'Alt-K', value: '``', offset: 1 },\r\n        { name: 'Alt-C', value: '```js\\n\\n```', offset: 0, offsetLine: 1 },\r\n        { name: 'Alt-I', value: '![alt]()', offset: 1 },\r\n        { name: 'Alt-L', value: '* ', offset: 0 }\r\n      ]\r\n      key2Command.forEach((item, index)=>{\r\n        resultObj[item.name] = (cm)=> {\r\n          that.setCursor(cm, item.value, item.offset, item.offsetLine)\r\n        }\r\n      })\r\n      return resultObj\r\n    }\r\n    let otherKeys = {\r\n      'F11'(cm) {\r\n        // 全屏\r\n        cm.setOption('fullScreen', !cm.getOption('fullScreen'))\r\n      },\r\n      'Esc'(cm) {\r\n        // 退出全屏\r\n        if (cm.getOption('fullScreen')) cm.setOption('fullScreen', false)\r\n      }\r\n    }\r\n    return Object.assign(otherKeys, appendTxtFn())\r\n  }\r\n\r\n  setCursor(cm, appendValue, offset = 0, offsetLine = 0) {\r\n    let newValue = cm.getValue() + appendValue\r\n    cm.setValue(newValue)\r\n    let lastLine = cm.lastLine() - offsetLine\r\n    cm.setCursor(lastLine, cm.getLine(lastLine).length - offset)\r\n    this.updateCode(newValue)\r\n  }\r\n\r\n\r\n  // 保存文章动作\r\n  newArticle = () => {\r\n    const newItem = {\r\n      author : this._author.value,\r\n      tagId : this.state.tagSelected,\r\n      title : this._title.value,\r\n      content: this.state.rawContent\r\n    }\r\n    newArticle(newItem)\r\n      .then(res=>{\r\n        // console.log(res)\r\n        if(res.data.status===\"OK\"){\r\n          message.success(\"发表成功\")\r\n          Article.create(res.data.result);\r\n          this.props.history.push(\"/\")\r\n        }\r\n      })\r\n\r\n  }\r\n\r\n  // 标签搜索\r\n  handleSearch = value => {\r\n    // console.log(\">>>\",value)\r\n\r\n    // if (value) {\r\n    //   fetch(value, data => this.setState({ data }));\r\n    // } else {\r\n    //   this.setState({ data: [] });\r\n    // }\r\n  };\r\n\r\n  // 标签变化\r\n  handleChange = value => {\r\n    this.setState({\r\n      tagSelected:value\r\n    })\r\n  };\r\n\r\n  \r\n}","import React, { Component } from 'react';\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport Blogs from \"../Blogs/Blogs\";\r\nimport TimeLine from \"../TimeLine/TimeLine\";\r\nimport Tags from \"../Tags/Tags\";\r\nimport Logs from \"../Logs/Logs\";\r\nimport Article from \"../../components/Article/Article\";\r\nimport Editor from \"../../components/Editor/Editor\";\r\nimport EditorC from \"../../components/EditorC\";\r\nimport \"./content.scss\";\r\n\r\nexport default class Right extends Component {\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"content\">\r\n                <Switch>\r\n                    <Route exact path='/' component={Blogs}/>\r\n                    <Route path='/timeline' component={TimeLine}/>\r\n                    <Route path='/tags' component={Tags}/>\r\n                    <Route path='/logs' component={Logs}/>\r\n                    <Route path='/article/:id' component={Article}/>\r\n                    <Route path='/editor' component={Editor}/>\r\n                    <Route path='/editorc' component={EditorC}/>\r\n                </Switch>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n","import React, { Component } from 'react';\r\nimport { Avatar , Tooltip } from 'antd';\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { getUser } from \"../../interfaces/user\"\r\n\r\nimport \"./sidebar.scss\";\r\n\r\nexport default class Left extends Component {\r\n\r\n    state = {\r\n        nikeName: \"我是...\"\r\n    }\r\n\r\n    // 向左收起菜单页\r\n    foldMenu() {\r\n        const oleft = this._left;\r\n        oleft.style.width = \"25vw\";// 横屏设备始终保持菜单显示\r\n        // 将content页色调恢复调亮\r\n        const ocontent = document.getElementsByClassName(\"content\")[0];\r\n        ocontent.style.transitionDuration = \"0.5s\";\r\n        ocontent.style.backgroundColor = \"rgba(238, 205, 168, 0.2)\";\r\n    }\r\n\r\n    // 向右展开菜单页\r\n    unfoldMenu() {\r\n        const oleft = this._left;\r\n        oleft.style.width = \"100vw\";\r\n        // 将content页色调调暗\r\n        const ocontent = document.getElementsByClassName(\"content\")[0];\r\n        ocontent.style.transitionDuration = \"0.5s\";\r\n        ocontent.style.backgroundColor = \"rgba(102, 90, 77, 0.5)\";\r\n    }\r\n\r\n    // 左右方向的展开或收起\r\n    lrMenu(e, startX) {\r\n        const oleft = this._left;\r\n        document.onmousemove = null;\r\n        oleft.onmouseup = null;\r\n        // 判断左划、右划，左划收起，右划展开\r\n        oleft.style.transitionDuration = \"0.5s\";\r\n        const endX = e.clientX;\r\n        if (endX <= startX) { // 左划、收起\r\n            this.foldMenu() // 横屏设备始终保持菜单显示\r\n        } else { // 右划、展开\r\n            this.unfoldMenu()\r\n        }\r\n    }\r\n\r\n    // 下拉菜单到底部\r\n    pullMenu() {\r\n        const oleft = this._left;\r\n        oleft.style.top = 0;\r\n        // 将content页色调调暗\r\n        const ocontent = document.getElementsByClassName(\"content\")[0];\r\n        ocontent.style.backgroundColor = \"rgba(102, 90, 77, 0.5)\";\r\n    }\r\n\r\n    // 上拉菜单到顶部\r\n    liftMenu() {\r\n        const oleft = this._left;\r\n        oleft.style.top = \"-99vh\";\r\n        // 将content页色调恢复明亮\r\n        const ocontent = document.getElementsByClassName(\"content\")[0];\r\n        ocontent.style.backgroundColor = \"rgba(238, 205, 168, 0.2)\";\r\n    }\r\n\r\n    btMenu(e, startY) {\r\n        const oleft = this._left;\r\n        document.onmousemove = null;\r\n        oleft.onmouseup = null;\r\n        oleft.style.transitionDuration = \"0.5s\";\r\n        const endY = e.clientY;\r\n        if (startY < endY) {// 下滑,打开菜单\r\n            this.pullMenu()\r\n        } else { //上滑\r\n            this.liftMenu()\r\n        }\r\n    }\r\n\r\n    // 向右隐藏菜单，打开编辑器\r\n    hideMenu = e =>{\r\n        const oleft = this._left;\r\n        const ocontent = document.getElementsByClassName(\"content\")[0];\r\n        ocontent.style.left = \"0\";\r\n        ocontent.style.width = \"100vw\";\r\n        ocontent.style.backgroundColor = \"rgba(238, 205, 168, 0.2)\";\r\n        oleft.style.width = \"0vw\";\r\n    }\r\n\r\n\r\n\r\n    // 禁用菜单\r\n    disableMenu = e =>{\r\n        window.onmousewheel = null; // 锁定菜单\r\n        this.hideMenu();\r\n    }\r\n\r\n    // 激活菜单\r\n    enableMenu = e=>{\r\n        const viewPortWidth = document.body.clientWidth;\r\n        const viewPortHeight = document.body.clientHeight;\r\n        const ocontent = document.getElementsByClassName(\"content\")[0];\r\n        if (viewPortHeight <= viewPortWidth) {\r\n            // 横屏\r\n            this._left.style.width = \"25vw\";\r\n            this.foldMenu(); // 向左收起菜单\r\n            ocontent.style.left=\"25vw\";\r\n            ocontent.style.width=\"75vw\";\r\n        }else{\r\n            this._left.style.width = \"100vw\";\r\n            this.liftMenu();//上拉菜单到顶部\r\n            ocontent.style.left=\"0\";\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        // 将封装好的事件存储到window对象下，供其他组件使用\r\n        window._wizard = { disableMenu:this.disableMenu,enableMenu:this.enableMenu,hideMenu:this.hideMenu,pullMenu:this.pullMenu,liftMenu:this.liftMenu,foldMenu:this.foldMenu,unfoldMenu:this.unfoldMenu }\r\n        this.bindEvent()\r\n        // 获取昵称\r\n        getUser(79328210)\r\n            .then(res => {\r\n                this.setState({\r\n                    nikeName: res.data.message\r\n                })\r\n                window._wizard.user = res.data.message\r\n            })\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"side-bar\" ref={left => this._left = left}>\r\n                <div className=\"sidebar-bg\">\r\n                    <ul className=\"sidebar-nav\">\r\n                        <li className=\"avatar\"><Avatar size={64} src={\"http://q1.qlogo.cn/g?b=qq&nk=79328210&s=100\"} /></li>\r\n                        <li className=\"sign\"><span><a href=\"http://wizardj.cn\">{this.state.nikeName}</a></span></li>\r\n                        <li className=\"motto\"><span>\"God was never on your side\"</span></li>\r\n                        <li className=\"hover-bottom\"><NavLink to=\"/\">博文</NavLink></li>\r\n                        <li className=\"hover-bottom\"><NavLink to=\"/timeline\">归档</NavLink></li>\r\n                        <li className=\"hover-bottom\"><NavLink to=\"/tags\">标签</NavLink></li>\r\n                        <li className=\"hover-bottom\"><NavLink to=\"/logs\">日志</NavLink></li>\r\n                        <li className=\"hover-bottom\" onClick={this.openEditor}><NavLink to=\"/editorc\">写文章</NavLink></li>\r\n                    </ul>\r\n                    <ul className=\"sidebar-social\">\r\n                        <li>\r\n                            <Tooltip  placement=\"bottomLeft\" title={\"花费挺贵的，发邮件就好...\"}>\r\n                                <div>\r\n                                    <i className=\"iconfont icon-Blog\"></i>\r\n                                </div>\r\n                            </Tooltip >\r\n                        </li>\r\n                        <li>\r\n                            <Tooltip  placement=\"bottom\" title={\"邮箱：79328210@qq.com\"}>\r\n                                <div>\r\n                                    <i className=\"iconfont icon-email\"></i>\r\n                                </div>\r\n                            </Tooltip >\r\n                        </li>\r\n                        <li>\r\n                            <Tooltip  placement=\"bottomRight\" title={\"掘金社区\"}>\r\n                                <a href=\"https://juejin.im/user/5d2d8a2351882554c007bdcd\" text=\"掘金社区\"><i className=\"iconfont icon-web_xiangxiazhankai\"></i></a>\r\n                            </Tooltip >\r\n                        </li>\r\n                        <li>\r\n                            <Tooltip  placement=\"bottomRight\" title={\"同性交友社区\"}>\r\n                                <a href=\"https://github.com/Wizard-J\" text=\"github\"><i className=\"iconfont icon-github\"></i></a>\r\n                            </Tooltip >\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    bindEvent = ()=>{\r\n        const oleft = this._left;\r\n        const ocontent = document.getElementsByClassName(\"content\")[0];\r\n        \r\n        const viewPortWidth = document.body.clientWidth;\r\n        const viewPortHeight = document.body.clientHeight;\r\n        const that = this;\r\n        if (viewPortHeight <= viewPortWidth) {\r\n            // 横屏\r\n            window.onmousewheel = function () {\r\n                that.foldMenu()\r\n            }\r\n            // 左划屏幕事件-菜单向左\r\n            oleft.onmousedown = function (e) {\r\n                e.preventDefault()\r\n                oleft.style.transitionDuration = \"initial\";\r\n                const startX = e.clientX; // 鼠标初始坐标\r\n                const startW = parseFloat(getComputedStyle(oleft).width); // 初始宽度\r\n\r\n                oleft.onmouseup = function (e) {\r\n                    that.lrMenu(e, startX)\r\n                }\r\n\r\n                document.onmousemove = function (e) {\r\n                    const endX = e.clientX;\r\n                    const deltaX = startX - endX; // δ>0表示向左划，δ<0表示右划\r\n\r\n                    const endWidth = startW - deltaX\r\n\r\n                    if (endWidth <= 0.25 * viewPortWidth || endWidth >= viewPortWidth) return; // 小于25vw的边界,或者大于100vw视口宽度就不要再变化了\r\n                    else {\r\n                        oleft.style.width = endWidth + \"px\"; // 否则照常将宽度设置为目标宽度\r\n                        ocontent.style.transitionDuration = \"initial\";\r\n                        const colorAlpha = 0.2 + 0.3 / 75 * ( parseFloat(oleft.style.width) / viewPortWidth * 100 )\r\n                        ocontent.style.backgroundColor = \"rgba(238, 205, 168, \"+colorAlpha+\")\";\r\n                     }  \r\n\r\n                    if (e.clientX < 0 || e.clientY < 0 || e.clientX > viewPortWidth || e.clientY > viewPortHeight) { // 鼠标离开视口\r\n                        that.lrMenu(e, startX)\r\n                    }\r\n                }\r\n            }\r\n            \r\n        } else {\r\n            // 竖屏手机\r\n            const oleft = this._left;\r\n            const viewPortHeight = document.body.clientHeight; // 视口高度\r\n            const initialTop = viewPortHeight / 100; // 隐藏状态下的高度\r\n\r\n            oleft.style.transitionDuration = \"initial\";\r\n            oleft.style.top = \"-99vh\";\r\n            // 将content页色调恢复\r\n            ocontent.style.backgroundColor = \"rgba(238, 205, 168, 0.2)\";\r\n            ocontent.style.left = 0;\r\n            ocontent.style.width = \"100vw\";\r\n            // 下滑降下菜单\r\n            oleft.onmousedown = function (e) {\r\n                e.preventDefault();\r\n                const startY = e.clientY; // 鼠标初始位置\r\n                const startPositionY = oleft.style.top.endsWith(\"vh\") ? parseFloat(oleft.style.top) / 100 * viewPortHeight : parseFloat(oleft.style.top); // 鼠标按下时的初始位置\r\n                oleft.onmouseup = function (e) {\r\n                    // 上下收起菜单\r\n                    that.btMenu(e, startY)\r\n                }\r\n                document.onmousemove = function (e) {\r\n                    const endY = e.clientY; // 当前位置\r\n                    const deltaY = startY - endY; // 手指Y方向位移,δY > 0 表示向上滑；δY < 0 表示向下滑\r\n\r\n                    const postition = startPositionY - deltaY;\r\n                    if (postition < - viewPortHeight || postition > - initialTop) return;\r\n                    else {\r\n                        oleft.style.transitionDuration = \"initial\";\r\n                        oleft.style.top = postition + \"px\";\r\n                    }\r\n                    if (e.clientX < 0 || e.clientX > viewPortWidth || e.clientY > viewPortHeight || e.clientY < 0) {// 鼠标离开视口\r\n                        that.btMenu(e, startY)\r\n                    }\r\n                }\r\n            }\r\n            \r\n        }\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport Content from \"../Content/Content\";\r\nimport Sidebar from \"../Sidebar/Sidebar\";\r\n\r\nimport \"./layout.scss\";\r\n\r\nexport default class Layout extends Component {\r\n\r\n    orienResize(){\r\n        window.location.reload();\r\n    }\r\n\r\n    componentDidMount(){\r\n        // window.addEventListener(\"onorientationchange\" in window ? \"orientationchange\" : \"resize\" , this.orienResize, false);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"layout\">\r\n                <Sidebar/>\r\n                <Content/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\nimport Layout from \"./views/Layout/Layout\";\nimport { HashRouter as Router} from \"react-router-dom\";\nimport \"antd/dist/antd.css\";\nimport \"./views/Layout/Layout\";\nimport './App.css';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router>\n        <Layout/>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}