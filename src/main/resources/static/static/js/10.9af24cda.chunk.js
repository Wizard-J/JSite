(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{235:function(e,t,n){"use strict";n.d(t,"c",function(){return u}),n.d(t,"b",function(){return f}),n.d(t,"a",function(){return y});var r=n(19),o=n.n(r),a=n(42),i=n(61),c=n.n(i),l=n(87);function u(e){return s.apply(this,arguments)}function s(){return(s=Object(a.a)(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(l.a)().then(function(e){var n=new FormData;for(var r in t)n.append(r,t[r]);return t.createdBy||n.append("createdBy","\u4f5a\u540d"),n.append("csrfmiddlewaretoken",e),c.a.post("/api/new/tag",n)}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function f(){return p.apply(this,arguments)}function p(){return(p=Object(a.a)(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c.a.get("/api/list/tags"));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function y(e){return g.apply(this,arguments)}function g(){return(g=Object(a.a)(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c.a.get("/api/del/tag?id="+t));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}Object(l.a)()},236:function(e,t,n){"use strict";var r={get:function(e){var t=-1,n=window.sessionStorage.getItem("tags")?JSON.parse(window.sessionStorage.getItem("tags")):[];return n.forEach(function(n,r){n.id===e&&(t=r)}),-1!==t?n[t]:null},getList:function(){return window.sessionStorage.getItem("tags")?JSON.parse(window.sessionStorage.getItem("tags")):null},save:function(e){window.sessionStorage.setItem("tags",JSON.stringify(e))},delete:function(e){var t=window.sessionStorage.getItem("tags")?JSON.parse(window.sessionStorage.getItem("tags")):[];t.forEach(function(n,r){n.id===e&&t.splice(r,1)}),window.sessionStorage.setItem("tags",JSON.stringify(t))},create:function(e){var t=window.sessionStorage.getItem("tags")?JSON.parse(window.sessionStorage.getItem("tags")):[];t.forEach(function(n,r){n.id===e.id&&t.splice(r,1,e)}),t.unshift(e),window.sessionStorage.setItem("tags",JSON.stringify(t))}};t.a=r},240:function(e,t,n){"use strict";var r=n(0),o=n(7),a=n.n(o),i=n(84),c=n(47),l=n(48),u=n(126);function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===s(t)||"function"===typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},m=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(c,r["Component"]);var t,n,o,i=b(c);function c(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(e=i.apply(this,arguments)).handleClick=function(){var t=e.props,n=t.checked,r=t.onChange;r&&r(!n)},e.renderCheckableTag=function(t){var n,o=t.getPrefixCls,i=e.props,c=i.prefixCls,l=i.className,u=i.checked,s=h(i,["prefixCls","className","checked"]),y=o("tag",c),g=a()(y,(p(n={},"".concat(y,"-checkable"),!0),p(n,"".concat(y,"-checkable-checked"),u),n),l);return delete s.onChange,r.createElement("span",f({},s,{className:g,onClick:e.handleClick}))},e}return t=c,(n=[{key:"render",value:function(){return r.createElement(u.a,null,this.renderCheckableTag)}}])&&y(t.prototype,n),o&&y(t,o),c}(),v=n(85),w=Object(v.a)("pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime"),O=n(16),S=n(226);function C(e){return(C="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=N(e);if(t){var o=N(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===C(t)||"function"===typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var T=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},_=new RegExp("^(".concat(w.join("|"),")(-inverse)?$")),x=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(s,r["Component"]);var t,n,o,c=I(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=c.call(this,e)).state={visible:!0},t.handleIconClick=function(e){e.stopPropagation(),t.setVisible(!1,e)},t.renderTag=function(e){var n=t.props,o=n.children,a=T(n,["children"]),c="onClick"in a||o&&"a"===o.type,l=Object(i.a)(a,["onClose","afterClose","color","visible","closable","prefixCls"]);return c?r.createElement(S.a,null,r.createElement("span",E({},l,{className:t.getTagClassName(e),style:t.getTagStyle()}),o,t.renderCloseIcon())):r.createElement("span",E({},l,{className:t.getTagClassName(e),style:t.getTagStyle()}),o,t.renderCloseIcon())},Object(O.a)(!("afterClose"in e),"Tag","'afterClose' will be deprecated, please use 'onClose', we will remove this in the next version."),t}return t=s,o=[{key:"getDerivedStateFromProps",value:function(e){return"visible"in e?{visible:e.visible}:null}}],(n=[{key:"getTagStyle",value:function(){var e=this.props,t=e.color,n=e.style,r=this.isPresetColor();return E({backgroundColor:t&&!r?t:void 0},n)}},{key:"getTagClassName",value:function(e){var t,n=e.getPrefixCls,r=this.props,o=r.prefixCls,i=r.className,c=r.color,l=this.state.visible,u=this.isPresetColor(),s=n("tag",o);return a()(s,(j(t={},"".concat(s,"-").concat(c),u),j(t,"".concat(s,"-has-color"),c&&!u),j(t,"".concat(s,"-hidden"),!l),t),i)}},{key:"setVisible",value:function(e,t){var n=this.props,r=n.onClose,o=n.afterClose;r&&r(t),o&&!r&&o(),t.defaultPrevented||"visible"in this.props||this.setState({visible:e})}},{key:"isPresetColor",value:function(){var e=this.props.color;return!!e&&_.test(e)}},{key:"renderCloseIcon",value:function(){return this.props.closable?r.createElement(l.a,{type:"close",onClick:this.handleIconClick}):null}},{key:"render",value:function(){return r.createElement(u.a,null,this.renderTag)}}])&&k(t.prototype,n),o&&k(t,o),s}();x.CheckableTag=m,x.defaultProps={closable:!1},Object(c.polyfill)(x);t.a=x},442:function(e,t,n){},494:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.r(t);var a=n(29),i=n(30),c=n(18),l=n(31),u=n(0),s=n.n(u),f=n(217),p=n(240),y=n(492),g=n(48),b=n(235),d=n(236);n(442);n.d(t,"default",function(){return h});var h=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i)))._UNMOUNTED=!1,e.state={tags:[],inputVisible:!1,inputValue:""},e.showInput=function(){e.setState({inputVisible:!0},function(){return e.input.focus()})},e.handleInputChange=function(t){e.setState({inputValue:t.target.value})},e.handleInputBlur=function(t){e.setState({inputVisible:!1,inputValue:""})},e.handleInputConfirm=function(){var t,n=e.state.inputValue,r=e.state.tags;window.wizard_blog&&(t=window.wizard_blog.user);var a={createdBy:t,color:e.getColor(),name:n};Object(b.c)(a).then(function(t){if("OK"!==t.data.status)throw new Error(t.data.message);a=t.data.result,r=[].concat(o(r),[a]),d.a.create(a),e._UNMOUNTED||e.setState({tags:r,inputVisible:!1,inputValue:""})}).catch(function(e){console.log(e),f.a.error("\u521b\u5efa\u6807\u7b7e\u5931\u8d25\u670d\u52a1\u5668\u5f02\u5e38")})},e.saveInputRef=function(t){return e.input=t},e.getColor=function(){for(var e=[0,1,2,3,4,5,6,7,8,9,"a","b","c","d","e","f"],t="#",n=0;n<6;n++)t+=e[Math.floor(16*Math.random())];return t},e.delTag=function(t,n,r){Object(b.a)(t).then(function(r){if("OK"!==r.data.status)throw new Error(r.data.message);var o=e.state.tags;o.splice(n,1),e._UNMOUNTED||(e.setState({tags:o}),d.a.delete(t))}).catch(function(e){console.log(e),f.a.error(e)})},e}return Object(i.a)(n,[{key:"componentWillUnmount",value:function(){this._UNMOUNTED=!0}},{key:"componentDidMount",value:function(){var e=this;d.a.getList()?this.setState({tags:d.a.getList()}):Object(b.b)().then(function(t){if("OK"!==t.data.status)throw new Error(t.data.message);e._UNMOUNTED||(e.setState({tags:t.data.result}),d.a.save(t.data.result))}).catch(function(e){console.log(e),f.a.warn("\u670d\u52a1\u5668\u5f02\u5e38")})}},{key:"render",value:function(){var e=this,t=this.state,n=t.tags,r=t.inputVisible,o=t.inputValue;return s.a.createElement("div",{className:"tags"},s.a.createElement("h4",{style:{marginBottom:16}},"\u6807\u7b7e\u5e93:"),s.a.createElement("div",null,s.a.createElement(p.a,{color:"magenta"},"magenta"),s.a.createElement(p.a,{color:"red"},"red"),s.a.createElement(p.a,{color:"volcano"},"volcano"),s.a.createElement(p.a,{color:"orange"},"orange"),s.a.createElement(p.a,{color:"gold"},"gold"),s.a.createElement(p.a,{color:"lime"},"lime"),s.a.createElement(p.a,{color:"green"},"green"),s.a.createElement(p.a,{color:"cyan"},"cyan"),s.a.createElement(p.a,{color:"blue"},"blue"),s.a.createElement(p.a,{color:"geekblue"},"geekblue"),s.a.createElement(p.a,{color:"purple"},"purple")),s.a.createElement("h4",{style:{margin:"16px 0"}},"\u65b0\u5efa\u6807\u7b7e:"),s.a.createElement("div",null,n.map(function(t,n){return s.a.createElement(p.a,{key:t.color,closable:!0,onClose:e.delTag.bind(e,t.id,n),color:t.color},t.name)})),r&&s.a.createElement(y.a,{ref:this.saveInputRef,type:"text",size:"small",style:{width:78},value:o,onChange:this.handleInputChange,onBlur:this.handleInputBlur,onPressEnter:this.handleInputConfirm}),!r&&s.a.createElement(p.a,{onClick:this.showInput,style:{background:"#fff",borderStyle:"dashed"}},s.a.createElement(g.a,{type:"plus"})," New Tag"))}}]),n}(u.Component)}}]);
//# sourceMappingURL=10.9af24cda.chunk.js.map